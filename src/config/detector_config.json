{
  "metadata": {
    "description": "Configuration for detectors used for algorithm inputs and solver inputs.",
    "version": "1.1",
    "comment": "Updated solver_input_detectors to support multi-phase structure."
  },
  "algorithm_input_detectors": {
    "description": "List of detector IDs used for calculating the primary algorithm input, such as total vehicle accumulation in the controlled area.",
    "detector_ids": [
      "e2_0",
      "e2_3",
      "e2_4",
      "e2_6",
      "e2_7",
      "e2_8",
      "e2_9",
      "e2_13",
      "e2_14",
      "e2_15",
      "e2_16",
      "e2_17",
      "e2_18",
      "e2_19",
      "e2_20",
      "e2_21",
      "e2_22",
      "e2_25",
      "e2_27",
      "e2_28",
      "e2_30",
      "e2_31",
      "e2_32",
      "e2_33"
    ]
  },
  "mfd_input_flow_detectors": {
    "description": "List of detector IDs used for calculating the flow.",
    "detector_ids": [
      "e1_2",
      "e1_3",
      "e1_4",
      "e1_6",
      "e1_7",
      "e1_8",
      "e1_10",
      "e1_13",
      "e1_14",
      "e1_15",
      "e1_16",
      "e1_17",
      "e1_18",
      "e1_19",
      "e1_20",
      "e1_21",
      "e1_22",
      "e1_25",
      "e1_27",
      "e1_28",
      "e1_32",
      "e1_30",
      "e1_31",
      "e1_33"
    ]
  },
  "solver_input_detectors": {
    "description": "Mapping of detectors to specific intersections and phases for providing real-time data to the optimization solver, such as queue lengths. Structure supports one primary ('p') and multiple secondary ('s') phases.",
    "intersections": {
      "B3": {
        "phases": {
          "p": {
            "queue_detectors": [
              "e2_0"
            ]
          },
          "s": [
            {
              "comment": "Secondary Phase 2",
              "queue_detectors": [
                "e2_3"
              ]
            }
          ]
        }
      },
      "B2": {
        "phases": {
          "p": {
            "queue_detectors": [
              "e2_6"
            ]
          },
          "s": [
            {
              "comment": "Secondary Phase 0",
              "queue_detectors": [
                "e2_4",
                "e2_7"
              ]
            }
          ]
        }
      },
      "B1": {
        "phases": {
          "p": {
            "queue_detectors": [
              "e2_9"
            ]
          },
          "s": [
            {
              "comment": "Secondary Phase 4",
              "queue_detectors": [
                "e2_8"
              ]
            }
          ]
        }
      },

      "C3": {
        "phases": {
          "p": {
            "queue_detectors": [
              "e2_15"
            ]
          },
          "s": [
            {
              "comment": "Secondary Phase 4",
              "queue_detectors": [
                "e2_13",
                "e2_14"
              ]
            }
          ]
        }
      },

      "C1": {
        "phases": {
          "p": {
            "queue_detectors": [
              "e2_20"
            ]
          },
          "s": [
            {
              "comment": "Secondary Phase 4",
              "queue_detectors": [
                "e2_22",
                "e2_21"
              ]
            }
          ]
        }
      },

      "D3": {
        "phases": {
          "p": {
            "queue_detectors": [
              "e2_26"
            ]
          },
          "s": [
            {
              "comment": "Secondary Phase 4",
              "queue_detectors": [
                "e2_27"
              ]
            }
          ]
        }
      },

      "D2": {
        "phases": {
          "p": {
            "queue_detectors": [
              "e2_30"
            ]
          },
          "s": [
            {
              "comment": "Secondary Phase 4",
              "queue_detectors": [
                "e2_28",
                "e2_31"
              ]
            }
          ]
        }
      },

      "D1": {
        "phases": {
          "p": {
            "queue_detectors": [
              "e2_33"
            ]
          },
          "s": [
            {
              "comment": "Secondary Phase 4",
              "queue_detectors": [
                "e2_32"
              ]
            }
          ]
        }
      }
    }
  }
}